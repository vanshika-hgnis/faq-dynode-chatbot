<!DOCTYPE html>
<html>

<head>
    <title>Chatbot</title>
</head>

<body>
    <h1>Interactive Chatbot</h1>
    <form action="javascript:void(0);" id="form">
        <input id="question" type="text" placeholder="Ask a question..." autocomplete="off" />
        <button type="submit">Send</button>
    </form>
    <div id="responses"></div>
    <script>
        // Dynamically set WebSocket protocol based on page load protocol (HTTP or HTTPS)
        const protocol = window.location.protocol === 'https:' ? 'wss://' : 'ws://';
        const ws = new WebSocket(protocol + window.location.host + "/ws");

        const form = document.getElementById("form");
        const input = document.getElementById("question");
        const responses = document.getElementById("responses");

        // Handle messages from WebSocket
        ws.onmessage = (event) => {
            const p = document.createElement("p");
            p.textContent = "Bot: " + event.data;
            responses.appendChild(p);
        };

        // Send user input to WebSocket
        form.onsubmit = () => {
            const question = input.value;
            const p = document.createElement("p");
            p.textContent = "You: " + question;
            responses.appendChild(p);
            ws.send(question);
            input.value = "";
        };
    </script>
</body>

</html>